<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Create Wallets Modal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div class="bg-white rounded shadow-md w-80">
    <div class="flex justify-between items-center border-b border-gray-200 px-4 py-3">
      <h2 class="text-xs font-semibold text-gray-500 uppercase">Create Wallets</h2>
      <button aria-label="Close" class="text-gray-400 hover:text-gray-600">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <form id="walletForm" class="px-4 py-4 space-y-4 text-xs text-gray-600 font-sans" onsubmit="return false;">
      <div>
        <label for="chain" class="block mb-1 font-semibold text-gray-600">Chain</label>
        <div class="flex border border-gray-300 rounded text-xs font-semibold text-gray-600">
          <button type="button" class="flex-1 py-1 bg-gray-100 cursor-default" disabled>EVM</button>
          <button type="button" class="flex-1 py-1 cursor-default" disabled>Solana</button>
        </div>
      </div>
      <div>
        <label for="count" class="block mb-1 font-semibold text-gray-600">Count</label>
        <div class="flex items-center border border-gray-300 rounded text-gray-600 text-xs font-semibold">
          <button type="button" id="decrement" class="flex-1 py-1 border-r border-gray-300">âˆ’</button>
          <input
            id="count"
            type="number"
            min="1"
            max="2000"
            value="1"
            class="flex-1 text-center py-1 focus:outline-none border-r border-gray-300"
          />
          <button type="button" id="increment" class="flex-1 py-1 border-r border-gray-300">+</button>
          <button type="button" id="maxBtn" class="flex-1 py-1 border-r border-gray-300 text-xs font-semibold text-gray-600">MAX</button>
          <button type="button" id="resetBtn" class="flex-1 py-1 text-xs font-semibold text-gray-600 border-l border-gray-300">RESET</button>
        </div>
      </div>
      <div class="relative">
        <label for="typeSelect" class="block mb-1 font-semibold text-gray-600 uppercase">TYPE</label>
        <button
          type="button"
          id="typeSelect"
          aria-haspopup="listbox"
          aria-expanded="false"
          class="w-full flex items-center justify-between border border-gray-300 rounded px-3 py-1 text-xs font-semibold text-gray-600"
        >
          <div class="flex items-center space-x-2">
            <span id="typeColor" class="w-3 h-3 rounded-sm bg-teal-500 block"></span>
            <span id="typeText" class="uppercase">SECRET PHASES</span>
          </div>
          <i class="fas fa-chevron-down text-gray-400"></i>
        </button>
        <ul
          id="typeOptions"
          class="hidden absolute z-10 mt-1 w-full max-h-32 overflow-auto border border-gray-300 rounded bg-white text-xs text-gray-600 font-semibold"
          role="listbox"
          tabindex="-1"
        >
          <li
            class="cursor-pointer px-3 py-1 hover:bg-gray-100 flex items-center space-x-2"
            data-value="Secret Phases"
            data-color="bg-teal-500"
            role="option"
            tabindex="0"
          >
            <span class="w-3 h-3 rounded-sm bg-teal-500 block"></span>
            <span class="uppercase">SECRET PHASES</span>
          </li>
          <li>
            <hr class="border-gray-300 my-1" />
          </li>
          <li
            class="cursor-pointer px-3 py-1 hover:bg-gray-100 flex items-center space-x-2"
            data-value="Private Key"
            data-color="bg-red-500"
            role="option"
            tabindex="0"
          >
            <span class="w-3 h-3 rounded-sm bg-red-500 block"></span>
            <span class="uppercase">PRIVATE KEY</span>
          </li>
          <li>
            <hr class="border-gray-300 my-1" />
          </li>
          <li
            class="cursor-pointer px-3 py-1 hover:bg-gray-100 flex items-center space-x-2"
            data-value="Seed Phases with Private Key"
            data-color="bg-green-500"
            role="option"
            tabindex="0"
          >
            <span class="w-3 h-3 rounded-sm bg-green-500 block"></span>
            <span class="uppercase text-[10px]">SEED PHASES WITH PRIVATE KEY</span>
          </li>
        </ul>
      </div>
      <div>
        <button
          type="submit"
          class="bg-indigo-600 text-white text-xs font-semibold px-4 py-2 rounded flex items-center space-x-2 hover:bg-indigo-700"
        >
          <i class="fas fa-plus"></i>
          <span class="uppercase">Create</span>
        </button>
      </div>
    </form>
    <p class="text-center text-gray-400 text-[10px] font-sans py-2 select-none">
      Private keys are encrypted and stored securely
    </p>
  </div>

  <script>
    const countInput = document.getElementById('count');
    const incrementBtn = document.getElementById('increment');
    const decrementBtn = document.getElementById('decrement');
    const maxBtn = document.getElementById('maxBtn');
    const resetBtn = document.getElementById('resetBtn');

    const MIN = 1;
    const MAX = 2000;

    function updateCount(newCount) {
      if (newCount < MIN) newCount = MIN;
      if (newCount > MAX) newCount = MAX;
      countInput.value = newCount;
    }

    incrementBtn.addEventListener('click', () => {
      let current = parseInt(countInput.value, 10);
      if (current < MAX) {
        updateCount(current + 1);
      }
    });

    decrementBtn.addEventListener('click', () => {
      let current = parseInt(countInput.value, 10);
      if (current > MIN) {
        updateCount(current - 1);
      }
    });

    maxBtn.addEventListener('click', () => {
      updateCount(MAX);
    });

    resetBtn.addEventListener('click', () => {
      updateCount(MIN);
    });

    // Allow manual input with validation
    countInput.addEventListener('input', () => {
      let val = parseInt(countInput.value, 10);
      if (isNaN(val) || val < MIN) {
        countInput.value = MIN;
      } else if (val > MAX) {
        countInput.value = MAX;
      }
    });

    // Dropdown logic
    const typeSelect = document.getElementById('typeSelect');
    const typeOptions = document.getElementById('typeOptions');
    const typeText = document.getElementById('typeText');
    const typeColor = document.getElementById('typeColor');

    typeSelect.addEventListener('click', () => {
      typeOptions.classList.toggle('hidden');
      const expanded = typeSelect.getAttribute('aria-expanded') === 'true';
      typeSelect.setAttribute('aria-expanded', !expanded);
    });

    typeOptions.querySelectorAll('li[data-value]').forEach(option => {
      option.addEventListener('click', () => {
        const value = option.getAttribute('data-value');
        const colorClass = option.getAttribute('data-color');

        typeText.textContent = value.toUpperCase();

        // Remove old color classes
        typeColor.classList.remove('bg-teal-500', 'bg-red-500', 'bg-green-500');
        // Add new color class
        typeColor.classList.add(colorClass);

        typeOptions.classList.add('hidden');
        typeSelect.setAttribute('aria-expanded', 'false');
      });
    });

    // Close dropdown if clicked outside
    document.addEventListener('click', (e) => {
      if (!typeSelect.contains(e.target) && !typeOptions.contains(e.target)) {
        typeOptions.classList.add('hidden');
        typeSelect.setAttribute('aria-expanded', 'false');
      }
    });
  </script>
</body>
</html>